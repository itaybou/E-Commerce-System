

@section scripts
{
    <script>
        $(document).ready(function () {
            $.ajax(
                {
                    type: 'POST',
                    dataType: 'JSON',
                    url: '/Admin/GetStatisticsData',
                    success:
                        function (response) {
                            // Set chart options
                            var options =
                            {
                                width: 1100,
                                height: 900,
                                sliceVisibilityThreshold: 0,
                                legend: { position: "top", alignment: "end" },
                                chartArea: { left: 370, top: 50, height: "90%" },
                                hAxis:
                                {
                                    slantedText: true,
                                    slantedTextAngle: 18
                                },
                                bar: { groupWidth: "50%" },
                            };

                            // Draw.
                            drawGraph(response, options, 'graphId', "bar");
                        }
                });
        });

        // Callback that creates and populates a data table,
        // instantiates the pie chart, passes in the data and
        // draws it.
        function drawGraph(dataValues, options, elementId, type) {
            // Initialization.
            var data = new google.visualization.DataTable();

            // Setting.
            data.addColumn('string', 'User Type');
            data.addColumn('number', 'Entries');

            // Processing.
            for (var i = 0; i < dataValues.length; i++) {
                // Setting.
                data.addRow([dataValues[i].UserType, dataValues[i].Count]);
            }
            // Setting label.
            var view = new google.visualization.DataView(data);
            view.setColumns([0, 1,
                {
                    calc: "stringify",
                    sourceColumn: 1,
                    type: "string",
                    role: "annotation"
                },
                2,
                {
                    calc: "stringify",
                    sourceColumn: 2,
                    type: "string",
                    role: "annotation"
                }
            ]);

            // Instantiate and draw our chart, passing in some options.
            if (type === "bar")
                var chart = new google.visualization.BarChart(document.getElementById(elementId));

            // Draw chart.
            chart.draw(view, options);
        }
    </script>
}

<!-- CHART -->
<div class="box box-primary">
    <div class="box-header with-border">
        <h3 class="box-title custom-heading">Product wise Graph</h3>
    </div>
    <div class="box-body">
        <div class="chart">
            <div id="graphId" style="width: 1100px; height: 900px; margin:auto;"></div>
        </div>
    </div><!-- /.box-body -->
</div><!-- /.box -->